<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Green Energy Collector ‚Äî Level Edition</title>
<style>
:root{
    --bg:#eafaf0;
    --card:#ffffff;
    --accent:#16a34a;
    --muted:#6b7280;
}
body{
    margin:0;
    font-family:Inter, system-ui, Arial, sans-serif;
    background:linear-gradient(180deg,#e6fff0 0%, #f0fff8 100%);
    color:#0f172a;
    padding:20px;
}
.wrap{ max-width:760px; margin:0 auto; }
header{text-align:center;margin-bottom:16px;}
h1{margin:6px 0;font-size:28px;}
.subtitle{color:var(--muted);font-size:14px;}
.board{display:grid;grid-template-columns:1fr 320px;gap:16px;}
@media(max-width:820px){.board{grid-template-columns:1fr;}}

.card{
    background:#fff;
    border-radius:12px;
    padding:16px;
    box-shadow:0 6px 18px rgba(0,0,0,0.06);
}

.bigbtn{
    background:linear-gradient(180deg,var(--accent),#13833f);
    color:#fff;
    padding:14px 20px;
    border-radius:10px;
    font-size:18px;
    border:none;
    cursor:pointer;
}
.secondary{
    background:#f3f9f4;
    color:var(--accent);
    border:1px solid #dff3e6;
}
.shop-item{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 0;
    border-bottom:1px dashed #eef6ee;
}
.small{font-size:14px;color:var(--muted);}
.floatText{
    position:fixed;
    font-size:20px;
    font-weight:800;
    color:gold;
    pointer-events:none;
    animation:floatUp 900ms ease-out forwards;
}
@keyframes floatUp{
    0%{opacity:1;transform:translateY(0);}
    100%{opacity:0;transform:translateY(-80px);}
}
</style>
</head>

<body>
<div class="wrap">
<header>
    <div class="subtitle">recyclingcatch / solarclicker</div>
    <h1>‚ö° Green Energy Collector</h1>
    <div class="subtitle">Jetzt mit Level-System üÜô</div>
</header>

<div class="board">
<div class="card">
    <div><strong id="score">Punkte: 0</strong></div>
    <div class="small">üèÜ Best: <span id="best">0</span></div>
    <div class="small">üÜô Level: <span id="level">1</span></div>
    <div class="small">‚ö° Klick-Power: <span id="power">1</span></div>
    <div class="small">üîã Passiv: <span id="pps">0</span>/sek</div>

    <div style="margin-top:12px;display:flex;gap:10px;">
        <button class="bigbtn" id="sunBtn">‚òÄÔ∏è Sonne</button>
        <button class="bigbtn secondary" id="windBtn">üå¨Ô∏è Wind</button>
    </div>

    <div id="event" class="small" style="margin-top:10px;"></div>
</div>

<div class="card">
    <strong>Shop</strong>

    <div class="shop-item">
        <div>
            <div>Power +1</div>
            <div class="small">Mehr Klick-Power</div>
        </div>
        <button class="bigbtn secondary" id="buyPower">10</button>
    </div>

    <div class="shop-item">
        <div>
            <div>Solar Panel</div>
            <div class="small">+1 Energie / Sek</div>
        </div>
        <button class="bigbtn secondary" id="buyPanel">50</button>
    </div>
</div>
</div>

<footer class="small" style="text-align:center;margin-top:14px;">
Made with üíö ‚Äì gespeichert im Browser
</footer>
</div>

<script>
const KEY="green_energy_level_v1";

let state={
    score:0,
    best:0,
    power:1,
    panels:0,
    level:1,
    pps:0
};

function save(){localStorage.setItem(KEY,JSON.stringify(state));}
function load(){
    let s=localStorage.getItem(KEY);
    if(s) state=JSON.parse(s);
    recalc();
}

function recalc(){
    state.pps=state.panels;
    state.power=1+Math.floor(state.level/2);
}

function levelCheck(){
    let needed=state.level*50;
    if(state.score>=needed){
        state.level++;
        showFloat("üÜô Level "+state.level);
        eventEl.textContent="üéâ Level Up!";
        setTimeout(()=>eventEl.textContent="",1200);
        recalc();
    }
}

function update(){
    scoreEl.textContent="Punkte: "+Math.floor(state.score);
    bestEl.textContent=state.best;
    levelEl.textContent=state.level;
    powerEl.textContent=state.power;
    ppsEl.textContent=state.pps;
}

function showFloat(t){
    let e=document.createElement("div");
    e.className="floatText";
    e.textContent=t;
    e.style.left="50%";
    e.style.top="200px";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),900);
}

function click(){
    let gain=state.power;
    if(Math.random()<0.2) gain*=2;
    state.score+=gain;
    if(state.score>state.best) state.best=state.score;
    showFloat("+"+gain);
    levelCheck();
    save();update();
}

function buyPower(){
    if(state.score>=10){
        state.score-=10;
        state.power++;
        save();update();
    }
}

function buyPanel(){
    if(state.score>=50){
        state.score-=50;
        state.panels++;
        recalc();
        save();update();
    }
}

let last=Date.now();
function tick(){
    let now=Date.now();
    let dt=(now-last)/1000;
    last=now;
    if(state.pps>0){
        state.score+=state.pps*dt;
        if(state.score>state.best) state.best=state.score;
        levelCheck();
        save();update();
    }
    requestAnimationFrame(tick);
}

const scoreEl=document.getElementById("score");
const bestEl=document.getElementById("best");
const levelEl=document.getElementById("level");
const powerEl=document.getElementById("power");
const ppsEl=document.getElementById("pps");
const eventEl=document.getElementById("event");

document.getElementById("sunBtn").onclick=click;
document.getElementById("windBtn").onclick=click;
document.getElementById("buyPower").onclick=buyPower;
document.getElementById("buyPanel").onclick=buyPanel;

load();update();
requestAnimationFrame(tick);
</script>
</body>
</html>
